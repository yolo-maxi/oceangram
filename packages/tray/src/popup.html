<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="popup.css">
  <title>Oceangram</title>
</head>
<body>
  <div class="app">
    <div class="connection-banner" id="connectionBanner">
      Disconnected
    </div>

    <!-- Thin contact bar (always visible) -->
    <div class="contact-bar" id="contactBar">
      <div class="contact-avatar" id="contactAvatar"></div>
      <div class="contact-name" id="contactName"></div>
    </div>

    <!-- Tabs (only shown if multiple whitelisted contacts) -->
    <div class="tabs" id="tabs" style="display: none;"></div>

    <!-- Agent status bar (OpenClaw, feature-flagged) -->
    <div class="agent-status" id="agentStatus" style="display: none;">
      <div class="agent-status-content" id="agentStatusContent"></div>
    </div>

    <!-- Messages -->
    <div class="messages" id="messages">
      <div class="loading" id="loadingState">Loading...</div>
    </div>

    <!-- Reply preview bar -->
    <div class="reply-bar" id="replyBar" style="display: none;">
      <div class="reply-bar-text" id="replyBarText"></div>
      <button class="reply-bar-cancel" id="replyBarCancel" title="Cancel reply">âœ•</button>
    </div>

    <!-- Composer -->
    <div class="composer" id="composer">
      <div class="attachment-strip" id="attachmentStrip" style="display:none;">
        <img class="attachment-thumb" id="attachmentThumb">
        <span class="attachment-name" id="attachmentName"></span>
        <button class="attachment-remove" id="attachmentRemove" title="Remove attachment">âœ•</button>
      </div>
      <div class="composer-row">
        <textarea
          class="composer-input"
          id="composerInput"
          placeholder="Message..."
          rows="1"
        ></textarea>
        <button class="composer-send" id="sendBtn" title="Send">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
            <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" fill="currentColor"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Empty state: no whitelisted contacts -->
    <div class="empty-state" id="emptyState" style="display: none;">
      <div class="empty-icon">ðŸ“Œ</div>
      <div class="empty-text">No pinned chats</div>
      <div class="empty-hint">Right-click tray icon â†’ Settings</div>
    </div>
  </div>

  <script src="../dist/popup.js"></script>
</body>
</html>
